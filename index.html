<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="./build/entry.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="https://fonts.googleapis.com/css?family=Muli:100,400,700|Oswald:300|Inconsolata,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
    <link type="text/css" rel="stylesheet" href="styles/app.min.css">
</head>

<body>
    <div id="stickyNavbarOverlay"></div>
    <div class="top-navbar">
        <div class="container">
            <nav class="navbar" role="navigation" aria-label="main navigation">
                <div class="navbar-brand">
                    
                     
                        <h1 class="navbar-item">Quintype Components</h1>
                    
                    <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                    </a>
                </div>
                 
                <div class="navbar-menu">
                    <div class="navbar-end">
                    
                        <div class="navbar-item">
                            <a href="https://github.com/quintype/quintype-node-components" target="_blank">Github</a>
                        </div>
                    
                    </div>
                </div>
                
            </nav>
        </div>
    </div>
    <div class="container">
        <div class="columns">
            <div class="column is-3" id="sidebarNav">
                <div class="sidebar">
                    <nav>
                        <h2><a href="index.html">Home</a></h2><div class="category"><h3>Components</h3><ul><li><a href="AdbutlerAd.html">AdbutlerAd</a></li><li><a href="BreakingNews.html">BreakingNews</a></li><li><a href="BreakingNewsItem.html">BreakingNewsItem</a></li><li><a href="ClientSideOnly.html">ClientSideOnly</a></li><li><a href="createDfpAdComponent.html">createDfpAdComponent</a></li><li><a href="HamburgerButton.html">HamburgerButton</a></li><li><a href="Link.html">Link</a></li><li><a href="LoadingIndicator.html">LoadingIndicator</a></li><li><a href="Menu.html">Menu</a></li><li><a href="MenuItem.html">MenuItem</a></li><li><a href="ReviewRating.html">ReviewRating</a></li><li><a href="SearchBox.html">SearchBox</a></li><li><a href="SearchPageBase.html">SearchPageBase</a></li><li><a href="SocialShare.html">SocialShare</a></li><li><a href="StoryElement.html">StoryElement</a></li><li><a href="UpdateOnInterval.html">UpdateOnInterval</a></li><li><a href="WithClientSideOnly.html">WithClientSideOnly</a></li><li><a href="withError.html">withError</a></li><li><a href="WithHostUrl.html">WithHostUrl</a></li><li><a href="WithLazy.html">WithLazy</a></li><li><a href="WithPreview.html">WithPreview</a></li></ul><h3>Global</h3><ul><li><a href="global.html#ImageGalleryElement">ImageGalleryElement</a></li></ul></div><div class="category"><h2>Login</h2><h3>Components</h3><ul><li><a href="WithFacebookLogin.html">WithFacebookLogin</a></li><li><a href="WithGoogleLogin.html">WithGoogleLogin</a></li><li><a href="WithLinkedInLogin.html">WithLinkedInLogin</a></li><li><a href="WithMember.html">WithMember</a></li><li><a href="WithSocialLogin.html">WithSocialLogin</a></li><li><a href="WithTwitterLogin.html">WithTwitterLogin</a></li></ul></div><div class="category"><h2>Subscription</h2><h3>Components</h3><ul><li><a href="AccessType.html">AccessType</a></li></ul></div>
                    </nav>
                </div>
            </div>
            <div class="column is-9-desktop">
                <div class="content" id="main-content-wrapper">
                    <header class="page-title">
                        <p>Title</p>
                        <h1>Home</h1>
                    </header>
                    
                    



    


    <h3> </h3>










    




    <section>
        <article><h1>Quintype Components</h1>
<p>This is a set of components that is to be used to build a Quintype Node App. This README servers as documentation of the components. Please see <a href="https://github.com/quintype/malibu">malibu</a> for a reference application using this architecture.</p>
<h3>Collection</h3>
<p>This component can be used to render a collection. You should typically pass this a collection that represents a page. Also see <a href="#lazycollection">LazyCollection</a>.</p>
<pre class="prettyprint source lang-javascript"><code>import {Collection} from '@quintype/components'

// collection = Collection.getCollectionBySlug(client, 'home', {}, {depth: 1})

function TwoColLayout({collection, associatedMetadata, index}) {
  // for item in collection.item
  //   if item.type == story
  //     showStory
  //   else if item.type == colection
  //     &lt;Collection />
  // speed = associatedMetadata.scroll_speed
}

function collectionTemplates(layout, index) {
  if(layout == 'twoColLayout')
    return TwoColLayout;
}

// optional
function storyTemplates(index) {
  return StoryTemplate;
}

// optional
function interstitial(index) {
  if(index % 2 == 0)
    return &lt;AdComponent />
}

&lt;Collection collection={collection}
            collectionTemplates={collectionTemplates}
            storyTemplates={storyTemplates}
            interstitial={interstitial} />
</code></pre>
<h3>InfiniteScroll</h3>
<p>This component can be used to implement InfiniteScroll. This is an internal component.</p>
<h3>InfiniteStoryBase</h3>
<p>This component can be used to implement InfiniteScroll on the story page. You will need to specify the function which renders the story (which will recieve props.index and props.story), and functions for triggering analytics.</p>
<pre class="prettyprint source lang-javascript"><code>import React from 'react';

import { BlankStory } from './story-templates';
import { InfiniteStoryBase } from '@quintype/components';

function StoryPageBase({index, story, otherProp}) {
  // Can switch to a different template based story-template, or only show a spoiler if index > 0
  return &lt;BlankStory story={story} />
}

const FIELDS = &quot;id,headline,slug,url,hero-image-s3-key,hero-image-metadata,first-published-at,last-published-at,alternative,published-at,author-name,author-id,sections,story-template,tags,cards&quot;;
function storyPageLoadItems(pageNumber) {
  return global.superagent
           .get(&quot;/api/v1/stories&quot;, {fields: FIELDS, limit:5, offset:5*pageNumber})
           .then(response => response.body.stories.map(story => ({story: story, otherProp: &quot;value&quot;})));
}

function StoryPage(props) {
  return &lt;InfiniteStoryBase {...props}
                            render={StoryPageBase}
                            loadItems={storyPageLoadItems}
                            onItemFocus={(item) => console.log(`Story In View: ${item.story.headline}`)}
                            onInitialItemFocus={(item) => console.log(`Do Analytics ${item.story.headline}`)} />
}

exports.StoryPage = StoryPage;
</code></pre>
<h4>doNotChangeUrl</h4>
<p>When the next story is focussed on, the url and title of the page will be set to the next story loaded by the Infinite Story Base. If this is not required, it can be disabled by setting the prop doNotChangeUrl={true}.
A valid use case for this: If the after the story, we are showing the snapshots of the next few stories, not the actual stories we dont want to change the url to the current story shown in the snapshot.
While disabling the url updating, please make sure that GA is not being fired for the next stories.
An Example:</p>
<pre class="prettyprint source lang-javascript"><code>  &lt;InfiniteStoryBase {...props}
                            render={StoryPageBase}
                            loadItems={storyPageLoadItems}
                            onItemFocus={(item) => console.log(`Story In View: ${item.story.headline}`)}
                            doNotChangeUrl={true} />
</code></pre>
<h3>LazyCollection</h3>
<p>This component can be used to render a collection, but with the components being lazy. This takes all the same options as Collection, but with a <code>lazyAfter</code> prop.
This Component also accepts extra props, which will be passed down to collection templates.</p>
<p>Note: This does not accept <code>interstitial</code> items (yet). And home page items are not hidden after being rendered</p>
<pre class="prettyprint source lang-javascript"><code>import { LazyCollection } from '@quintype/components'

// collection = Collection.getCollectionBySlug(client, 'home', {}, {depth: 1})

&lt;LazyCollection collection={collection}
                collectionTemplates={collectionTemplates}
                storyTemplates={storyTemplates}
                lazyAfter={3}
                extraProp=&quot;some prop&quot; />

</code></pre>
<h3>LazyLoadImages</h3>
<p>This component will ensure all <a href="#ResponsiveImage">ResponsiveImages</a> that are in its descendent path will be loaded async. By default, the image is loaded with an empty gif, and the image becomes visible when the image scrolls 250 from the edge of the screen.</p>
<p>You can use <code>EagerLoadImages</code> or <code>eager={true}</code> to force the image to be eager. If <code>EagerLoadImages</code> is passed a predicate, then images that pass a matching value to <code>eager</code> will be rendered eagerly.</p>
<pre class="prettyprint source lang-javascript"><code>import { LazyLoadImages, EagerLoadImages } from '@quintype/components';

function LazyLoadSecondImage() {
  return &lt;div>
    &lt;ResponsiveImage slug={props[&quot;eager-image-1&quot;]} />
    &lt;LazyLoadImages margin={50}>
      &lt;div>
        &lt;UnrelatedContent/>
        &lt;ResponsiveImage slug={props[&quot;lazy-image-1&quot;]} />
        &lt;ResponsiveImage slug={props[&quot;lazy-image-forced-to-be-eager&quot;]} eager/>
        &lt;ResponsiveImage slug={props[&quot;lazy-image-2&quot;]} />
        &lt;EagerLoadImages>
          &lt;ResponsiveImage slug={props[&quot;lazy-image-forced-to-be-eager&quot;]} />
        &lt;/EagerLoadImages>
        &lt;EagerLoadImages predicate={(token) => token % 2 === 0}>
          &lt;ResponsiveImage slug={props[&quot;lazy-image&quot;]} eager={1} />
          &lt;ResponsiveImage slug={props[&quot;eager-image&quot;]} eager={2} />
        &lt;/EagerLoadImages>
      &lt;/div>
    &lt;/LazyLoadImages>
    &lt;ResponsiveImage slug={props[&quot;eager-image-2&quot;]} />
  &lt;/div>
}
</code></pre>
<h3>LoadMoreBase</h3>
<p>This component starts with a set of stories, and then provides a load more button. This calls out to <code>/api/v1/stories</code> with the properties passed via the <code>params</code> prop. The stories are concatenated with the stories in <code>props.data.stories</code>, and the contents of <code>props.data</code> are passed to the rendered template.</p>
<p>It can accept an alternate <code>api</code> as a prop as well as <code>apiResponseTransformer</code> which can be used to tranformer the api response before being passed to the <code>template</code>.</p>
<pre class="prettyprint source lang-javascript"><code>import { LoadMoreStoriesBase } from '@quintype/components';

function SectionPageWithStories({section, stories, loading, onLoadMore, noMoreStories}) {
  return &lt;div/>;
}

export function SectionPage(props) {
  return &lt;LoadMoreStoriesBase template={SectionPageWithStories}
                              fields={&quot;id,headline&quot;}
                              {...props}
                              params={{&quot;section-id&quot;: props.data.section.id}}
                              api=&quot;/api/v1/stories&quot;
                              apiResponseTransformer={(response) => response.stories} />
}
</code></pre>
<h3>LoadMoreCollectionStories</h3>
<p>This component is very similar to the LoadMoreBase component but fetches the stories from a <code>collection</code>. The api call <code>/api/v1/collections/{collectionSlug}</code> is made with the passed collection slug value. The component accepts the <code>params</code> prop and a requires a Collection Slug from which to fetch the stories and returns a set of stories only.</p>
<pre class="prettyprint source lang-javascript"><code>import { LoadMoreCollectionStories } from '@quintype/components';

function MoreCollectionStories({collection, stories, loading, onLoadMore, noMoreStories}) {
  return &lt;div/>;
}

export function HomePage(props) {
  return &lt;LoadMoreCollectionStories template={MoreCollectionStories}
                                    collectionSlug={props.data.collectionSlug}
                                    data={{collection: collection, stories: initialStories}}
                                    params={{}}/>
}
</code></pre>
<h3>Get Collection of stories written by a particular author</h3>
<p>We can get the collection of stories written by a specific author by using the authorId prop as below:</p>
<pre class="prettyprint source lang-javascript"><code>export function HomePage(props) {
  return &lt;LoadMoreCollectionStories
            template={MoreCollectionStories}
            data={{stories: stories}}
            authorId={props.author.id}
            params={{}}
            numStoriesToLoad={10} />
}
</code></pre>
<h3>ResponsiveHeroImage</h3>
<p>This component takes is a wrapper over <a href="#ResponsiveImage">ResponsiveImages</a>, which accepts a story and returns the hero image. By default, it picks the alt text from the headline.</p>
<pre class="prettyprint source lang-javascript"><code>import { ResponsiveHeroImage } from '@quintype/components';
&lt;figure className=&quot;story-grid-item-image qt-image-16x9&quot;>
  &lt;ResponsiveHeroImage story={props.story}
    aspectRatio={[16,9]}
    defaultWidth={480} widths={[250,480,640]} sizes=&quot;(max-width: 500px) 98vw, (max-width: 768px) 48vw, 23vw&quot;
    imgParams={{auto:['format', 'compress']}}/>
&lt;/figure>
</code></pre>
<h3>ResponsiveImage</h3>
<p>This component takes an image, and resizes it to the correct aspect ratio using imgix or thumbor.</p>
<p>Also see <a href="doc/using-responsive-image.md">Using Responsive Image</a></p>
<pre class="prettyprint source lang-javascript"><code>import { ResponsiveImage } from '@quintype/components';

&lt;figure className=&quot;story-grid-item-image qt-image-16x9&quot;>
  &lt;ResponsiveImage slug={props.story[&quot;hero-image-s3-key&quot;]}
    metadata={props.story[&quot;hero-image-metadata&quot;]}
    alt={props.story['headline']}
    aspectRatio={[16,9]}
    defaultWidth={480} widths={[250,480,640]}
    sizes=&quot;(max-width: 500px) 98vw, (max-width: 768px) 48vw, 23vw&quot;
    imgParams={{auto:['format', 'compress']}}/>
&lt;/figure>
</code></pre>
<h3>Responsive Source</h3>
<p>This component is used in more advanced usages if the aspect ratio is expected to change between screens</p>
<pre class="prettyprint source lang-javascript"><code>import { ResponsiveSource } from '@quintype/components';

&lt;figure className=&quot;story-grid-item-image&quot;>
  &lt;picture>
    // Desktop Version
    &lt;ResponsiveSource media=&quot;(min-width: 1024px)&quot;
      slug={props.story[&quot;hero-image-s3-key&quot;]}
      metadata={props.story[&quot;hero-image-metadata&quot;]}
      aspectRatio={[4,3]}
      widths={[250,480,640]}
      sizes=&quot;(max-width: 500px) 98vw, (max-width: 768px) 48vw, 23vw&quot;
      imgParams={{auto:['format', 'compress']}}/>

    // Mobile Version
    &lt;ResponsiveImage
      slug={props.story[&quot;hero-image-s3-key&quot;]}
      metadata={props.story[&quot;hero-image-metadata&quot;]}
      alt={props.story['headline']}
      aspectRatio={[16,9]}
      defaultWidth={480} widths={[250,480,640]}
      sizes=&quot;(max-width: 500px) 98vw, (max-width: 768px) 48vw, 23vw&quot;
      imgParams={{auto:['format', 'compress']}}/>
  &lt;/picture>
&lt;/figure>
</code></pre>
<h2>Recommended Components that are not included</h2>
<h3>Sliders</h3>
<p>For a slider, we recomment <code>react-slick</code>. It pulls in JQuery, which will add 90kb to your bundle, but is the most malleable slider out there</p>
<h3>Marquee for Breaking News</h3>
<p>Our Marquee recommendation is <code>react-malarquee</code>. Just remember to mark all items as <code>display: inline</code>, and remove any floats. It supports <code>pauseOnHover</code>.</p>
<h3>ReactTable for table story elements</h3>
<p>The story table element renders a very basic table story element. It can be enhaced by using 'react-table', which supports pagination and other fancy things.</p>
<h6>Redux notes:</h6>
<p>The component dispatches the following actions</p>
<ul>
<li><code>ACCESS_BEING_LOADED</code></li>
<li><code>ACCESS_UPDATED</code></li>
<li><code>PAYMENT_OPTIONS_UPDATED</code></li>
<li><code>SUBSCRIPTION_GROUP_UPDATED</code></li>
<li><code>METER_UPDATED</code></li>
</ul></article>
    </section>






                </div>
            </div>
        </div>
    </div>

<footer class="footer">
    <div class="content has-text-centered">
        <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a></p>
        <p class="sidebar-created-by">
            <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by 
            <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
        </p>
    </div>
</footer>

<script src="scripts/app.min.js"></script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"rDCW":[function(require,module,exports) {

},{}],"qqXr":[function(require,module,exports) {
var global = arguments[3];
var e,d=arguments[3],n=void 0!==d?d:"undefined"!=typeof window?window:{},o=require("min-document");"undefined"!=typeof document?e=document:(e=n["__GLOBAL_DOCUMENT_CACHE@4"])||(e=n["__GLOBAL_DOCUMENT_CACHE@4"]=o),module.exports=e;
},{"min-document":"rDCW"}],"tALL":[function(require,module,exports) {
var global = arguments[3];
var e,d=arguments[3];e="undefined"!=typeof window?window:void 0!==d?d:"undefined"!=typeof self?self:{},module.exports=e;
},{}],"TZGN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("react")),t=n(require("global/document")),r=n(require("global/window"));function n(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s="1.8.0",d="1.2.0",c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=["catalogSearch","catalogSequence"],p=["adConfigId","applicationId","catalogSearch","catalogSequence","playlistId","playlistVideoId","videoId"],f=function(e,t){if(e&&void 0!==e[t]){if("string"!=typeof e[t]&&-1!==u.indexOf(t))try{return encodeURIComponent(JSON.stringify(e[t]))}catch(r){return}return encodeURIComponent(String(e[t]).trim())||void 0}},y=function(e){return Object.keys(e).filter(function(e){return-1!==p.indexOf(e)}).reduce(function(t,r){var n=f(e,r);return void 0!==n&&(t+=t?"&":"?",t+=encodeURIComponent(r)+"="+n),t},"")},h=function(e){var t=e.accountId,r=e.base,n=void 0===r?"https://players.brightcove.net":r,o=e.playerId,i=void 0===o?"default":o,a=e.embedId,l=void 0===a?"default":a,s=e.iframe,d=void 0!==s&&s,u=e.minified,p=void 0===u||u,f=e.queryParams,h=void 0===f?null:f,v="";d?v+="html":(p&&(v+="min."),v+="js"),"/"===n.charAt(n.length-1)&&(n=n.substring(0,n.length-1));var m="";return d&&h&&"object"===(void 0===h?"undefined":c(h))&&(m=y(h)),n+"/"+(t=encodeURIComponent(t))+"/"+(i=encodeURIComponent(i))+"_"+(l=encodeURIComponent(l))+"/index."+v+m};h.VERSION=d;var v={embedId:"default",embedType:"in-page",playerId:"default",Promise:r.default.Promise,refNodeInsert:"append"},m="16:9",b=!1,g="100%",I="video",E="video-js",N="in-page",_="iframe",P="append",O="prepend",S="before",R="after",C="replace",w=["catalogSearch","catalogSequence"],A="https://players.brightcove.net/",U=function(e){if(e.playerUrl)return e.playerUrl;var t=e.accountId,r=e.playerId,n=e.embedId,o=e.embedOptions,i=e.embedType===_;return h({accountId:t,playerId:r,embedId:n,iframe:i,base:A,minified:!o||!o.unminified,queryParams:e})},j=function(){return A},x=function(e){A=e},B={getUrl:U,getBaseUrl:j,setBaseUrl:x},q=function(e){return Boolean(e&&1===e.nodeType)},T=function(e){return Boolean(q(e)&&e.parentNode)},D=function(e){var r=t.default.createElement("iframe");return r.setAttribute("allow","autoplay;encrypted-media;fullscreen"),r.setAttribute("allowfullscreen","allowfullscreen"),r.src=B.getUrl(e),r},M=function(e){var r=e.embedOptions,n={adConfigId:"data-ad-config-id",applicationId:"data-application-id",catalogSearch:"data-catalog-search",catalogSequence:"data-catalog-sequence",deliveryConfigId:"data-delivery-config-id",playlistId:"data-playlist-id",playlistVideoId:"data-playlist-video-id",poster:"poster",videoId:"data-video-id"},o=r&&r.tagName||E,i=t.default.createElement(o);return Object.keys(n).filter(function(t){return e[t]}).forEach(function(t){var r;if("string"!=typeof e[t]&&-1!==w.indexOf(t))try{r=JSON.stringify(e[t])}catch(o){return}else r=String(e[t]).trim();i.setAttribute(n[t],r)}),i.setAttribute("controls","controls"),i.classList.add("video-js"),i},k=function(e,r,n){if(!r.responsive)return n;n.style.position="absolute",n.style.top="0px",n.style.right="0px",n.style.bottom="0px",n.style.left="0px",n.style.width="100%",n.style.height="100%";var o=l({aspectRatio:m,iframeHorizontalPlaylist:b,maxWidth:g},r.responsive),i=o.aspectRatio.split(":").map(Number),a=t.default.createElement("div"),s=i[1]/i[0]*100;e===_&&o.iframeHorizontalPlaylist&&(s*=1.25),a.style.paddingTop=s+"%",a.appendChild(n);var d=t.default.createElement("div");return d.style.position="relative",d.style.display="block",d.style.maxWidth=o.maxWidth,d.appendChild(a),d},V=function(e,r){if(!e.pip)return r;var n=t.default.createElement("div");return n.classList.add("vjs-pip-container"),n.appendChild(r),n},F=function(e,t,r){return t?V(t,k(e,t,r)):r},L=function(e,r){var n=e.refNode,o=e.refNodeInsert,i=n.parentNode,a=F(e.embedType,e.embedOptions,r);if(o===S?i.insertBefore(a,n):o===R?i.insertBefore(a,n.nextElementSibling||null):o===C?i.replaceChild(a,n):o===O?n.insertBefore(a,n.firstChild||null):n.appendChild(a),e.embedOptions&&e.embedOptions.playlist){var l=e.embedOptions.playlist.legacy?"ul":"div",s=t.default.createElement(l);s.classList.add("vjs-playlist"),r.parentNode.insertBefore(s,r.nextElementSibling||null)}return e.refNode=null,r},z=function(e,t){if("function"!=typeof e.onEmbedCreated)return t;var r=e.onEmbedCreated(t);return q(r)?r:t},J=function(e){var t=e.embedType===_?D(e):M(e);return L(e,z(e,t))},Y=new r.default.Map,W=function(e){return(e.accountId||"*")+"_"+e.playerId+"_"+e.embedId},G=function(e){Y.set(W(e),e.accountId?B.getUrl(e):"")},$=function(e){return Y.has(W(e))},H=function(e){return Y.get(W(e))},Z=function(){Y.clear()},K=function(e){Y.forEach(e)},Q={clear:Z,forEach:K,get:H,has:$,key:W,store:G},X=/^([A-Za-z0-9]+)_([A-Za-z0-9]+)$/,ee=function(){return r.default.bc?Object.keys(r.default.bc).filter(function(e){return X.test(e)}):[]},te=function(){return Object.keys(r.default).filter(function(e){return/^videojs/i.test(e)||/^(bc)$/.test(e)})},re=function(e){e&&Object.keys(e.players).forEach(function(t){var r=e.players[t];r&&r.dispose()})},ne=function(){Q.forEach(function(e,r){e&&Array.prototype.slice.call(t.default.querySelectorAll('script[src="'+e+'"]')).forEach(function(e){return e.parentNode.removeChild(e)})}),Q.clear(),re(r.default.videojs),ee().forEach(function(e){return re(r.default.bc[e].videojs)}),te().forEach(function(e){delete r.default[e]})},oe=function(){ee().forEach(function(e){var t=e.match(X),r={playerId:t[1],embedId:t[2]};Q.has(r)||Q.store(r)})},ie={detectPlayers:oe,reset:ne};ie.detectPlayers();var ae=function(e){return"function"==typeof e},le=function(e){return e===N||e===_},se=function(e){return e===E||e===I},de=function(e){return e===P||e===O||e===S||e===R||e===C},ce=function(e){var t=e.accountId,r=e.embedOptions,n=e.embedType,o=e.options,i=e.refNode,a=e.refNodeInsert;if(!t)throw new Error("accountId is required");if(!T(i))throw new Error("refNode must resolve to a node attached to the DOM");if(!le(n))throw new Error("embedType is missing or invalid");if(n===_&&o)throw new Error("cannot use options with an iframe embed");if(r&&void 0!==r.tagName&&!se(r.tagName))throw new Error('embedOptions.tagName is invalid (value: "'+r.tagName+'")');if(r&&r.responsive&&r.responsive.aspectRatio&&!/^\d+\:\d+$/.test(r.responsive.aspectRatio))throw new Error('embedOptions.responsive.aspectRatio must be in the "n:n" format (value: "'+r.responsive.aspectRatio+'")');if(!de(a))throw new Error("refNodeInsert is missing or invalid")},ue=function(e){return T(e)?e:"string"==typeof e?t.default.querySelector(e):null},pe=function(e,t,n,o){var i,a=e.embedId,l=e.playerId,s=r.default.bc[l+"_"+a]||r.default.bc;if(!s)return o(new Error("missing bc function for "+l));Q.store(e);try{(i=s(t,e.options)).bcinfo&&(i.bcinfo.PLAYER_LOADER=!0)}catch(c){var d="Could not initialize the Brightcove Player.";return e.embedOptions.tagName===E&&(d+=' You are attempting to embed using a "video-js" element. Please ensure that your Player is v6.11.0 or newer in order to support this embed type. Alternatively, pass `"video"` for `embedOptions.tagName`.'),o(new Error(d))}n({type:N,ref:i})},fe=function(e,r,n){e.refNode=ue(e.refNode),ce(e);var o=e.refNode,i=e.refNodeInsert,a=o.parentNode,l=J(e);if(e.embedType!==_){if(Q.has(e))return pe(e,l,r,n);var s=t.default.createElement("script");s.onload=function(){return pe(e,l,r,n)},s.onerror=function(){n(new Error("player script could not be downloaded"))},s.async=!0,s.charset="utf-8",s.src=B.getUrl(e),i===C?a.appendChild(s):o.appendChild(s)}else r({type:_,ref:l})},ye=function(e){var t=l({},v,e),r=t.Promise,n=t.onSuccess,o=t.onFailure;return!ae(r)||ae(n)||ae(o)?fe(t,ae(n)?n:function(){},ae(o)?o:function(e){throw e}):new r(function(e,r){return fe(t,e,r)})},he=function(e,t){Object.defineProperty(ye,e,{configurable:!1,enumerable:!0,value:t,writable:!1})};he("getBaseUrl",function(){return B.getBaseUrl()}),he("setBaseUrl",function(e){B.setBaseUrl(e)}),he("getUrl",function(e){return B.getUrl(e)}),he("reset",function(){return ie.reset()}),[["EMBED_TAG_NAME_VIDEO",I],["EMBED_TAG_NAME_VIDEOJS",E],["EMBED_TYPE_IN_PAGE",N],["EMBED_TYPE_IFRAME",_],["REF_NODE_INSERT_APPEND",P],["REF_NODE_INSERT_PREPEND",O],["REF_NODE_INSERT_BEFORE",S],["REF_NODE_INSERT_AFTER",R],["REF_NODE_INSERT_REPLACE",C],["VERSION",s]].forEach(function(e){he(e[0],e[1])});var ve=["catalogSearch","catalogSequence","playlistId","playlistVideoId","videoId"],me=function(e){e&&console&&console.error&&console.error(e)},be=function(t){function r(e){var r;return(r=t.call(this,e)||this).refNode=null,r.setRefNode=function(e){r.refNode=e},r.loadPlayer=r.loadPlayer.bind(a(r)),r}i(r,t);var n=r.prototype;return n.loadPlayer=function(){var e=this;this.disposePlayer();var t=this.props.onSuccess,r=this.props.onFailure,n=o({},this.props,{refNode:this.refNode,refNodeInsert:"append",onSuccess:function(r){var n=r.ref,o=r.type;e.isMounted_?(e.player=n,"in-page"===o&&n.one("dispose",function(){e.player=null}),n.bcinfo&&(n.bcinfo.REACT_PLAYER_LOADER=!0),"function"==typeof t&&t({ref:n,type:o})):e.disposePlayer(n)},onFailure:function(t){if(e.isMounted_){if("function"!=typeof r)throw new Error(t);r(t)}}});delete n.attrs,delete n.baseUrl,delete n.manualReloadFromPropChanges;var i=ye.getBaseUrl();this.props.baseUrl&&ye.setBaseUrl(this.props.baseUrl),ye(n),ye.setBaseUrl(i)},n.disposePlayer=function(){this.player&&(this.player.dispose?this.player.dispose():this.player.parentNode&&this.player.parentNode.removeChild(this.player),this.player=null)},n.findPlaylistVideoIdIndex_=function(e){var t=this.props.playlistVideoId;if(Array.isArray(e)&&t)for(var r=0;r<e.length;r++){var n=e[r],o=n.id,i=n.referenceId;if(o===t||"ref:"+i===t)return r}return-1},n.createPlaybackAPICallback_=function(e,t){var r=this;return function(n,o){if(n)me(n);else{if("playlist"===e&&t.playlistVideoId){var i=r.findPlaylistVideoIdIndex_(o);i>-1&&(o.startingIndex=i)}r.player.catalog.load(o)}}},n.updatePlayer=function(e){if(this.player&&this.player.el&&this.player.el()){var t;if(this.player.usingPlugin("catalog")){if(e.catalogSequence&&this.props.catalogSequence){var r=this.createPlaybackAPICallback_("sequence",e);return void this.player.catalog.getLazySequence(this.props.catalogSequence,r,this.props.adConfigId)}e.videoId&&this.props.videoId?t={type:"video",id:this.props.videoId}:e.playlistId&&this.props.playlistId?t={type:"playlist",id:this.props.playlistId}:e.catalogSearch&&this.props.catalogSearch&&(t={type:"search",q:this.props.catalogSearch})}if(t){this.props.adConfigId&&(t.adConfigId=this.props.adConfigId),this.props.deliveryConfigId&&(t.deliveryConfigId=this.props.deliveryConfigId);var n=this.createPlaybackAPICallback_(t.type,e);this.player.catalog.get(t,n)}else if(e.playlistVideoId&&this.props.playlistVideoId&&this.player.usingPlugin("playlist")){var o=this.findPlaylistVideoIdIndex_(this.player.playlist());o>-1&&this.player.playlist.currentItem(o)}}},n.componentDidMount=function(){this.isMounted_=!0,this.loadPlayer()},n.componentDidUpdate=function(e){var t=this,r=Object.keys(e).reduce(function(r,n){var o=e[n],i=t.props[n];return"function"==typeof i?r:"object"==typeof i&&null!==i?(JSON.stringify(i)!==JSON.stringify(o)&&(r[n]=!0),r):(i!==o&&(r[n]=!0),r)},{});this.props.manualReloadFromPropChanges||!Object.keys(r).some(function(e){return-1===ve.indexOf(e)})?this.updatePlayer(r):this.loadPlayer()},n.componentWillUnmount=function(){this.isMounted_=!1,this.disposePlayer()},n.render=function(){var t=o({className:"brightcove-react-player-loader"},this.props.attrs,{ref:this.setRefNode});return e.default.createElement("div",t)},r}(e.default.Component),ge=be;exports.default=ge;
},{"react":"n8MK","global/document":"qqXr","global/window":"tALL"}]},{},[], null)
//# sourceMappingURL=/brightcove-react-player-loader.es.bc5a870b.js.map